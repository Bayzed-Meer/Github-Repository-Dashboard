<div class="flex flex-col">
  <app-search></app-search>

  <div class="flex justify-center mb-4">
    <button
      data-cy="view-button"
      type="button"
      class="bg-pink-500 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded flex items-center gap-2"
      (click)="toggleView()"
    >
      <span *ngIf="showCard" class="flex items-center gap-2">
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect
            x="3"
            y="3"
            width="8"
            height="8"
            rx="1.5"
            stroke="black"
            stroke-width="0.3"
          />
          <rect
            x="13"
            y="3"
            width="8"
            height="8"
            rx="1.5"
            stroke="black"
            stroke-width="0.3"
          />
          <rect
            x="3"
            y="13"
            width="8"
            height="8"
            rx="1.5"
            stroke="black"
            stroke-width="0.3"
          />
          <rect
            x="13"
            y="13"
            width="8"
            height="8"
            rx="1.5"
            stroke="black"
            stroke-width="0.3"
          />
        </svg>
        <span>Grid View</span>
      </span>
      <span *ngIf="!showCard" class="flex items-center gap-2">
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect
            x="3"
            y="5"
            width="18"
            height="14"
            rx="2"
            stroke="black"
            stroke-width="0.3"
          />
          <rect x="3" y="5" width="18" height="4" fill="white" />
          <line
            x1="3"
            y1="9"
            x2="21"
            y2="9"
            stroke="black"
            stroke-width="0.3"
          />
        </svg>
        <span>Card View</span>
      </span>
    </button>
  </div>

  <div #dataContainer class="overflow-y-auto h-[73vh]">
    @if (showCard) {
    <app-card
      [repositories]="repositories"
      (loadMoreRepositories)="loadMoreRepositories()"
    />
    } @else {
    <app-grid
      [repositories]="repositories"
      (loadMoreRepositories)="loadMoreRepositories()"
    />
    }
  </div>
</div>
